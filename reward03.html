<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src='./common.js'></script>
<link rel="stylesheet" href="./reward.css" />
<title>5천원 할인권</title>
</head>
<body>
<!--리워드-->
<section id="reward02" class="reward_common">
    <div class="reward_wrap" >
        <article class="reward_area">
            <img class="coupon" src="./img/reward02_coupon.png">
            <div class="txt_area">
                <p class="tit">5천원 할인</p>
                <p class="date"><span>쿠폰 사용 기간</span>&nbsp;2024.09.01 ~ 2024.10.31</p>
                <p class="comment">7만원 이상 주문 시 사용 가능</p>
            </div>
            <div class="btn_area">
            <a class="btn download" href="./reward03_detail.html"><img src="./img/btn_download.png"></a>
            <a class="btn " id="retry_m" href="./mobile.html"><img src="./img/btn_retry.png"></a>
            <a class="btn" id="retry_pc" onClick="top.location='javascript:location.reload()'"><img src="./img/btn_retry.png"></a>
            </div>
        </article>
    </div>
</section>
<script>
  function isMobileBrowser() {
  // 일반적으로 모바일 브라우저의 사용자 에이전트 문자열을 확인하여 판별
  const userAgent = navigator.userAgent.toLowerCase();
  return /iphone|ipad|ipod|android|blackberry|opera mini|iemobile|mobile/.test(userAgent);
  }

  $(document).ready(function() {
      $('.download').on('click', function(e) {
      if (!isMobileBrowser()) {
          e.preventDefault(); // 기본 동작을 막음

          // 쿠폰 이미지 다운로드
          const link = document.createElement('a');
          link.href = './img/coupon01.jpg';
          link.download = 'coupon01.jpg';
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
      }
      // 페이지 이동
      setTimeout(function() {
          window.location.href = 'reward01_detail.html';
      }, 500);
      });
  });


  document.addEventListener("DOMContentLoaded", function() {
    // iframe 여부 확인
    var isInIframe = (window.location !== window.parent.location);

    // 요소 가져오기
    var retryMButton = document.getElementById('retry_m');
    var retryPCButton = document.getElementById('retry_pc');

    if (isInIframe) {
      // iframe 안에 있으면 PC 버튼을 표시하고, 모바일 버튼을 숨김
      retryMButton.style.display = 'none';
      retryPCButton.style.display = 'flex';
    } else {
      // iframe 밖에 있으면 모바일 버튼을 표시하고, PC 버튼을 숨김
      retryMButton.style.display = 'flex';
      retryPCButton.style.display = 'none';
    }
  });
</script>

</body>
</html>